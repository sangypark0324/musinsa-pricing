# musinsa-pricing
- Musinsa Pricing API


# 기능 요구사항
1. 고객은 카테고리 별로 최저가격인 브랜드와 가격을 조회하고 총액이 얼마인지 확인할 수 있어야 합니다.
2. 고객은 단일 브랜드로 전체 카테고리 상품을 구매할 경우 최저가격인 브랜드와 총액이 얼마인지 확인할 수 있어야 합니다.
3. 고객은 특정 카테고리에서 최저가격 브랜드와 최고가격 브랜드를 확인하고 각 브랜드 상품의 가격을 확인할 수 있어야 합니다.
4. 운영자는 새로운 브랜드를 등록하고, 모든 브랜드의 상품을 추가, 변경, 삭제할 수 있어야 합니다.




# 작업 목록

- PRICING-01/base 
  - TASK  
      - 규모추정 & 시스템 디자인
      - 요구사항 기술
      - 멀티모듈 구성
      - 데이터베이스 연동
      - 카테고리별 최저가격 브랜드 & 가격조회 API 개발
      - 최저가격 브랜드와 총액 조회 API 개발
      - 카테고리별 최저가격,최고가격 브랜드 조회 API 개발
      - 브랜드 등록,브랜드별 상품 추가,변경,삭제 API 개발
      - 상품수정시 이벤트 발행하고 비동기로 카테고리별 최저가/최고가 집계정보 업데이트
   


# 카테고리별 최저가/최고가 상품 가격정보 집계

- 카테고리별 최저가,최고가 상품을 별도의 테이블로 관리하면 1번과 3번 요구사항을 해결할 수 있다.
- 카테고리에 속한 상품이 많다면 해당 카테고리의 최저가/최고가 상품을 실시간으로 집계하는것은 사실상 불가능하다. 따라서 별도의 집계테이블을 생성해두는 전략으로 최저가/최고가 정보를 제공한다.
- 별도의 집계테이블을 생성하고 최초 1회 마이그레이션을 진행하고 상품수정이 일어날때마다 "상품가격변경" 이벤트를 발행하고 이를 이벤트 리스너에서 비동기로 카테고리별 최저가,최고가 상품 정보를 업데이트 해서 준실시간성의 집계정보를 사용자에게 제공한다.

  - 